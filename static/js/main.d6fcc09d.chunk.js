(this["webpackJsonpcycling-weather"]=this["webpackJsonpcycling-weather"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(5),o=n.n(a),i=(n(11),n(4)),s=n.n(i),u=n(2),l=n(6),h=(n(13),n(0)),d=15,j=25,p=20,f=70,b="Enter your weatherAPI key:",v="Enter your location:",g="Is it a good idea to go cycling today?",m="There is no data yet.",O="Temperature is too cold.",x="Temperature is too hot.",y="There is too much wind.",w="It will probably rain.",k="https://john-rodewald.github.io/",N="Yes!",I="No.";function S(){return(S=Object(l.a)(s.a.mark((function e(t,n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.weatherapi.com/v1/forecast.json?key=".concat(n,"&q=").concat(t,"&days=1&aqi=no&alerts=no")).then((function(e){return e.ok&&e.json()})).catch((function(e){return window.alert(e)}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e){var t=e.text;return Object(h.jsx)("h1",{className:"title",children:t})},A=function(e){var t=e.text;return Object(h.jsx)("h2",{className:"subtitle",children:t})},F=function(e){var t=e.location;return Object(h.jsxs)("p",{className:"location",children:["(",t,")"]})},_=function(){return Object(h.jsx)("a",{href:k,children:Object(h.jsx)("img",{className:"github-img",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRZcKR3b2Q6L7kLv3kV04kBtcs-FaYRsYfxRQ&usqp=CAU"})})},q=function(){var e,t,n=Object(c.useState)({value:!1,reason:m}),r=Object(u.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(""),s=Object(u.a)(i,2),l=s[0],k=s[1],q=Object(c.useState)(null!==(e=localStorage.getItem("cycling-api-key"))&&void 0!==e?e:""),C=Object(u.a)(q,2),E=C[0],L=C[1];return Object(c.useEffect)((function(){var e;if(!E){var t,n=null!==(t=window.prompt(b))&&void 0!==t?t:"";localStorage.setItem("cycling-api-key",n),L(n)}var c=null!==(e=window.prompt(v))&&void 0!==e?e:"";k(c),function(e,t){return S.apply(this,arguments)}(c,E).then((function(e){o(function(e){if(!e)return{value:!1,reason:m};var t=e.forecast.forecastday[0].hour.slice(0,6),n=t.reduce((function(e,t){return e+t.temp_c}),0)/t.length,c=t.reduce((function(e,t){return e+t.wind_kph}),0)/t.length,r=t.reduce((function(e,t){return e+t.cloud}),0)/t.length,a=t.every((function(e){return 1===e.will_it_rain})),o=t.reduce((function(e,t){return e+t.precip_mm}),0)/t.length;return console.log(o),n<d?{value:!1,reason:O}:n>j?{value:!1,reason:x}:c>p?{value:!1,reason:y}:r>f||a&&o>1?{value:!1,reason:w}:{value:!0}}(e))}))}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsxs)("span",{className:"header-container",children:[Object(h.jsx)(T,{text:g}),Object(h.jsx)(A,{text:a.value?N:"".concat(I," ").concat(null!==(t=a.reason)&&void 0!==t?t:"")}),l&&Object(h.jsx)(F,{location:l})]})}),Object(h.jsx)("footer",{children:Object(h.jsx)(_,{})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(q,{})}),document.getElementById("root")),C()}},[[15,1,2]]]);
//# sourceMappingURL=main.d6fcc09d.chunk.js.map